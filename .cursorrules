# .cursorrules

Components & Naming

- Use functional components with `"use client"` if needed.
- Name in kebab-case under `components` folder.
- Keep them small, typed with interfaces.
- Use Tailwind for common UI components like textarea, button, etc. Never use radix or shadcn.

Drizzle

- Manage DB logic with Drizzle in `db/v3.schema.ts`
- Snake_case for table names and camelCase for column names
- No raw SQL entries; run `drizzle-kit generate` to generate new migrations
- Never use `drizzle-kit push`

Icons

- Prefer `lucide-react` for icons
- Custom icons should be in `components/icons`

Charts

- Use `rosencharts` for charts

Next.js Structure

- Use `app` router
- Authentication with Clerk

tRPC Routers

- Routers in `server/routers`, compose in `server/index.ts`.
- `publicProcedure` or `protectedProcedure` with Zod.
- Access from React via `@/lib/trpc/react`.

TypeScript & Syntax

- Strict mode. Avoid `any`.
- Use optional chaining, union types (no enums).

File & Folder Names

- Next.js routes in kebab-case (e.g. `app/dashboard/page.tsx`).
- Shared types in `src/lib/types.ts`.
- Sort imports (external → internal → sibling → styles).

Tailwind Usage

- Use Tailwind (mobile-first, dark mode with dark:(class)). Extend brand tokens in `tailwind.config.ts`.
- For animations, prefer Framer Motion.

Tools

- After a complex task is performed, use the `codeReview` tool create a diff and use the diff to conduct a code review of the changes.

Misc

- Keep code short; commits semantic.
- Use `tsx` scripts for migrations.

IMPORTANT:

- After all changes are made, ALWAYS build the project with `npm run build`. Ignore warnings, fix errors.
- Always add a one-sentence summary of changes to `.cursor-updates` file in markdown format at the end of every agent interaction.
- If you forget, the user can type the command "finish" and you will run the build and update `.cursor-updates`.
- Finally, update git with `git add . && git commit -m "..."`. Don't push.


Go through each task in the .cursor_tasks.md file and complete it. After you complete each task, update th e file to check off any task. Run builds and commits after each task. Continue with each task until you have checked off each one. After each story, do not take a screenshot. If you need more detail about a task you can gather relevant files and pass the FULL file to the research agent.